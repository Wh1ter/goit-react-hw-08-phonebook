{"version":3,"sources":["redux/app/app-reducer.js","redux/auth/auth-reducers.js","redux/store.js","components/AuthNav.js","redux/auth/auth-selectors.js","components/UserMenu.js","components/Navigation.js","components/AppBar.js","components/PrivateRoute.js","components/PublicRoute.js","App.js","index.js","redux/app/app-actions.js","redux/auth/auth-operations.js","redux/auth/auth-actions.js"],"names":["contacts","createReducer","actions","fetchContactSuccess","_","payload","addContactSuccess","state","find","contact","name","alert","deleteContactSuccess","types","newArrAfterDel","filter","elem","id","loading","addContactRequest","addContactError","deleteContactRequest","deleteContactError","fetchContactRequest","fetchContactError","filters","filterSet","combineReducers","initialUserState","email","user","authActions","registerSuccess","loginSuccess","logoutSuccess","getCurrentUserSuccess","token","setError","error","registerError","loginError","logoutError","getCurrentUserError","isAuthenticated","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","logger","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","app","appReducer","auth","persistReducer","authReducer","devTools","process","persistor","persistStore","styles","link","margin","display","color","activeLink","AuthNav","Button","type","variant","style","height","to","exact","activeStyle","marginLeft","container","alignItems","mail","marginRight","fontWeight","mapDispatchToProps","onLogout","authOperations","logOut","connect","authSelectors","onClick","textDecoration","padding","header","justifyContent","borderBottom","PrivateRoute","children","redirectTo","routeProps","isLoggedIn","useSelector","PublicRoute","restricted","shouldRedirect","HomeView","lazy","LoginView","RegisterView","ContactsView","App","this","props","onGetCurrentUser","className","fallback","path","component","Component","mapDispatchToProrps","getCurrentUser","ReactDOM","render","StrictMode","document","getElementById","createAction","axios","defaults","baseURL","headers","common","Authorization","register","credentials","dispatch","a","registerRequest","post","response","data","message","logoutRequest","logIn","loginRequest","getState","persistedToken","getCurrentUserRequest","get"],"mappings":"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","file":"static/js/main.cc0a3752.chunk.js","sourcesContent":["import { combineReducers } from \"redux\";\nimport { createReducer } from \"@reduxjs/toolkit\";\nimport actions from \"./app-actions\";\n// import operations from \"./app-operations\";\n\nconst contacts = createReducer([], {\n  [actions.fetchContactSuccess]: (_, { payload }) => payload,\n  [actions.addContactSuccess]: (state, { payload }) => {\n    const contactExists = state.find(contact => contact.name === payload.name);\n\n    if (contactExists) {\n      alert(`${payload.name} - уже есть в списке :)`);\n      return state;\n    }\n    return [payload, ...state];\n  },\n  [actions.deleteContactSuccess]: (state, { types, payload }) => {\n    let newArrAfterDel = state.filter((elem) => elem.id !== payload);\n    return [...newArrAfterDel];\n  },\n});\n\nconst loading = createReducer(false, {\n  [actions.addContactRequest]: () => true,\n  [actions.addContactSuccess]: () => false,\n  [actions.addContactError]: () => false,\n  [actions.deleteContactRequest]: () => true,\n  [actions.deleteContactSuccess]: () => false,\n  [actions.deleteContactError]: () => false,\n  [actions.fetchContactRequest]: () => true,\n  [actions.fetchContactSuccess]: () => false,\n  [actions.fetchContactError]: () => false,\n});\n\nconst filters = createReducer(\"\", {\n  [actions.filterSet]: (state, { payload }) => {\n    return payload;\n  },\n});\n\n\nexport default combineReducers({ contacts, filters, loading });","import { combineReducers } from \"redux\";\nimport { createReducer } from \"@reduxjs/toolkit\";\nimport authActions from \"./auth-actions\";\n\nconst initialUserState = { name: null, email: null };\n\nconst user = createReducer(initialUserState, {\n  [authActions.registerSuccess]: (_, { payload }) => payload.user,\n  [authActions.loginSuccess]: (_, { payload }) => payload.user,\n  [authActions.logoutSuccess]: () => initialUserState,\n  [authActions.getCurrentUserSuccess]: (_, { payload }) => payload,\n});\n\nconst token = createReducer(null, {\n  [authActions.registerSuccess]: (_, { payload }) => payload.token,\n  [authActions.loginSuccess]: (_, { payload }) => payload.token,\n  [authActions.logoutSuccess]: () => null,\n});\n\nconst setError = (_, { payload }) => payload;\n\nconst error = createReducer(null, {\n  [authActions.registerError]: setError,\n  [authActions.loginError]: setError,\n  [authActions.logoutError]: setError,\n  [authActions.getCurrentUserError]: setError,\n});\nconst isAuthenticated = createReducer(false, {\n  [authActions.registerSuccess]: () => true,\n  [authActions.loginSuccess]: () => true,\n  [authActions.getCurrentUserSuccess]: () => true,\n  [authActions.registerError]: () => false,\n  [authActions.loginError]: () => false,\n  [authActions.logoutError]: () => false,\n  [authActions.getCurrentUserError]: () => false,\n  [authActions.logoutSuccess]: () => false,\n});\n\nexport default combineReducers({\n  user,\n  token,\n  isAuthenticated,\n  error,\n});\n","//import { combineReducers } from \"redux\";\nimport { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\nimport logger from \"redux-logger\";\nimport storage from \"redux-persist/lib/storage\";\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from \"redux-persist\";\n\nimport appReducer from \"./app/app-reducer\";\nimport authReducer from \"./auth/auth-reducers\";\n\n//console.log(getDefaultMiddleware());\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n  logger,\n];\nconst authPersistConfig = {\n  key: \"auth\",\n  storage,\n  whitelist: [\"token\"],\n};\nconst store = configureStore({\n  reducer: {\n    app: appReducer,\n    auth: persistReducer(authPersistConfig, authReducer),\n  },\n  middleware,\n  devTools: process.env.NODE_ENV === \"development\",\n});\n\nconst persistor = persistStore(store);\n\n// eslint-disable-next-line\nexport default { store, persistor };\n","import { NavLink } from \"react-router-dom\";\nimport Button from \"@material-ui/core/Button\";\nconst styles = {\n  link: {\n    margin: 5,\n    display: \"block\",\n    color: \"white\",\n  },\n  activeLink: {\n    margin: 5,\n    display: \"block\",\n    color: \"red\",\n  },\n};\n\nconst AuthNav = () => (\n  <div>\n    <Button\n      type=\"click\"\n      variant=\"contained\"\n      color=\"primary\"\n      style={{ height: 30 }}\n    >\n      <NavLink\n        to=\"/register\"\n        exact\n        style={styles.link}\n        activeStyle={styles.activeLink}\n      >\n        Registration\n      </NavLink>\n    </Button>\n    <Button\n      style={{ marginLeft: 15, height: 30 }}\n      type=\"click\"\n      variant=\"contained\"\n      color=\"primary\"\n    >\n      <NavLink\n        to=\"/login\"\n        exact\n        style={styles.link}\n        activeStyle={styles.activeLink}\n      >\n        Login\n      </NavLink>\n    </Button>\n  </div>\n);\n\nexport default AuthNav;\n","//export default authSelectors;\nconst isAuthenticated = (state) => state.auth.isAuthenticated;\nconst userName = (state) => state.auth.user.name;\nconst userMail = (state) => state.auth.user.email;\n\n\n// eslint-disable-next-line\nexport default {\n  isAuthenticated,\n  userName,\n  userMail,\n};\n","import { connect } from \"react-redux\";\nimport authSelectors from \"../redux/auth/auth-selectors\";\nimport authOperations from \"../redux/auth/auth-operations\";\nimport Button from \"@material-ui/core/Button\";\n\nconst styles = {\n  container: {\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n  mail: {\n    marginRight: 10,\n  },\n  name: {\n    fontWeight: 700,\n    marginRight: 20,\n  },\n};\n\nconst UserMenu = ({ mail, name, onLogout }) => (\n  <div style={styles.container}>\n    <span style={styles.mail}>User e-mail: {mail}</span>\n    <span style={styles.name}>User name: {name}</span>\n    <Button\n      type=\"button\"\n      onClick={onLogout}\n      variant=\"contained\"\n      color=\"primary\"\n    >\n      Logout 🟥\n    </Button>\n  </div>\n);\n\nconst mapStateToProps = (state) => ({\n  name: authSelectors.userName(state),\n  mail: authSelectors.userMail(state),\n});\nconst mapDispatchToProps = {\n  onLogout: authOperations.logOut,\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(UserMenu);\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport authSelectors from \"../redux/auth/auth-selectors\";\nconst styles = {\n  link: {\n    display: \"inline-block\",\n    textDecoration: \"none\",\n    padding: 12,\n    fontWeight: 700,\n    color: \"#2A363B\",\n  },\n  activeLink: {\n    color: \"#E84A5F\",\n  },\n};\n\nconst Navigation = ({ isAuthenticated }) => (\n  <nav>\n    <NavLink to=\"/\" exact style={styles.link} activeStyle={styles.activeLink}>\n      Home\n    </NavLink>\n    {isAuthenticated && (\n      <NavLink\n        to=\"/contacts\"\n        exact\n        style={styles.link}\n        activeStyle={styles.activeLink}\n      >\n        Contacts\n      </NavLink>\n    )}\n  </nav>\n);\n\nconst mapStateToProps = (state) => ({\n  isAuthenticated: authSelectors.isAuthenticated(state),\n});\n\nexport default connect(mapStateToProps)(Navigation);\n","import AuthNav from \"./AuthNav\";\nimport UserMenu from \"./UserMenu\";\nimport Navigation from \"./Navigation\";\nimport { connect } from \"react-redux\";\nimport authSelectors from \"../redux/auth/auth-selectors\";\n\nconst styles = {\n  header: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    borderBottom: \"1px solid #2A363B\",\n  },\n};\n\nconst AppBar = ({ isAuthenticated }) => (\n  <header style={styles.header}>\n    <Navigation />\n    {isAuthenticated ? <UserMenu /> : <AuthNav />}\n  </header>\n);\nconst mapStateToProps = (state) => ({\n  isAuthenticated: authSelectors.isAuthenticated(state),\n});\nexport default connect(mapStateToProps)(AppBar);\n","import { useSelector } from \"react-redux\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport authSelectors from \"../redux/auth/auth-selectors\";\n\n/**\n * 1. Он должен повторять API Route\n *  2. Он должен рендерить Route\n * - Если маршрут приватный и пользователь залогинен, рендерит компонент\n * - В противном случае рендерит Redirect на redirectTo\n */\n\nexport default function PrivateRoute({\n  children,\n  redirectTo = \"/\",\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(authSelectors.isAuthenticated);\n  return (\n    <Route {...routeProps}>\n      {isLoggedIn ? children : <Redirect to={redirectTo} />}\n    </Route>\n  );\n}\n","import { useSelector } from \"react-redux\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport authSelectors from \"../redux/auth/auth-selectors\";\n\n/**\n * - Если маршрут ограниченный, и юзер залогинен, рендерит редирект на redirectTo\n * - В противном случае рендерит компонент\n *\n */\n\nexport default function PublicRoute({\n  children,\n  restricted = false,\n  redirectTo = \"/\",\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(authSelectors.isAuthenticated);\n  const shouldRedirect = isLoggedIn && restricted;\n  return (\n    <Route {...routeProps}>\n      {shouldRedirect ? <Redirect to={redirectTo} /> : children}\n    </Route>\n  );\n}\n","import React, { Component, Suspense, lazy } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport AppBar from \"./components/AppBar\";\nimport authOperations from \"./redux/auth/auth-operations\";\nimport PrivateRoute from \"./components/PrivateRoute\";\nimport PublicRoute from \"./components/PublicRoute\";\n\nconst HomeView = lazy(() => import(\"./views/HomeView\"));\nconst LoginView = lazy(() => import(\"./views/LoginView\"));\nconst RegisterView = lazy(() => import(\"./views/RegisterView\"));\nconst ContactsView = lazy(() => import(\"./views/ContactsView\"));\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.onGetCurrentUser();\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <AppBar />\n        <Suspense fallback={<p>Loading...</p>}>\n          <Switch>\n            <Route exact path=\"/\" component={HomeView} />\n            <PublicRoute path=\"/register\" redirectTo=\"/contacts\" restricted>\n              <Route path=\"/register\" component={RegisterView} />\n            </PublicRoute>\n            <PublicRoute path=\"/login\" redirectTo=\"/contacts\" restricted>\n              <Route path=\"/login\" component={LoginView} />\n            </PublicRoute>\n            <PrivateRoute path=\"/contacts\" redirectTo=\"/login\">\n              <Route path=\"/contacts\" component={ContactsView} />\n            </PrivateRoute>\n          </Switch>\n        </Suspense>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProrps = {\n  onGetCurrentUser: authOperations.getCurrentUser,\n};\n\nexport default connect(null, mapDispatchToProrps)(App);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport store from \"./redux/store\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store.store}>\n      <PersistGate loading={null} persistor={store.persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","import { createAction } from \"@reduxjs/toolkit\";\n\nconst addContactRequest = createAction(\"contacts/addContactRequest\");\nconst addContactSuccess = createAction(\"contacts/addContactSuccess\");\nconst addContactError = createAction(\"contacts/addContactError\");\n\nconst deleteContactRequest = createAction(\"contacts/deleteContactRequest\");\nconst deleteContactSuccess = createAction(\"contacts/deleteContactSuccess\");\nconst deleteContactError = createAction(\"contacts/deleteContactError\");\n\nconst fetchContactRequest = createAction(\"contacts/fetchContactRequest\");\nconst fetchContactSuccess = createAction(\"contacts/fetchContactSuccess\");\nconst fetchContactError = createAction(\"contacts/fetchContactError\");\n\nconst filterSet = createAction(\"app/setFilterArr\");\n\n// eslint-disable-next-line\nexport default {\n  filterSet,\n  addContactRequest,\n  addContactSuccess,\n  addContactError,\n  deleteContactRequest,\n  deleteContactSuccess,\n  deleteContactError,\n  fetchContactRequest,\n  fetchContactSuccess,\n  fetchContactError,\n};\n","import axios from \"axios\";\nimport authActions from \"./auth-actions\";\n\naxios.defaults.baseURL = \"https://connections-api.herokuapp.com\";\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = \"\";\n  },\n};\n\nconst register = (credentials) => async (dispatch) => {\n  dispatch(authActions.registerRequest());\n\n  try {\n    const response = await axios.post(\"/users/signup\", credentials);\n    dispatch(authActions.registerSuccess(response.data));\n    token.set(response.data.token);\n  } catch (error) {\n    dispatch(authActions.registerError(error.message));\n  }\n};\n\nconst logIn = (credentials) => async (dispatch) => {\n  dispatch(authActions.loginRequest());\n\n  try {\n    const response = await axios.post(\"/users/login\", credentials);\n    dispatch(authActions.loginSuccess(response.data));\n    token.set(response.data.token);\n  } catch (error) {\n    dispatch(authActions.loginError(error.message));\n  }\n};\n\nconst logOut = () => async (dispatch) => {\n  dispatch(authActions.logoutRequest());\n\n  try {\n    await axios.post(\"/users/logout\");\n    dispatch(authActions.logoutSuccess());\n    token.unset();\n  } catch (error) {\n    dispatch(authActions.logoutError(error.message));\n  }\n};\n\nconst getCurrentUser = () => async (dispatch, getState) => {\n  const {\n    auth: { token: persistedToken },\n  } = getState();\n  //state.auth.token\n  if (!persistedToken) {\n    return;\n  }\n  token.set(persistedToken);\n  dispatch(authActions.getCurrentUserRequest());\n  try {\n    const response = await axios.get(\"/users/current\");\n    dispatch(authActions.getCurrentUserSuccess(response.data));\n  } catch (error) {\n    dispatch(authActions.getCurrentUserError(error.message));\n  }\n};\n\n// eslint-disable-next-line\nexport default { register, logOut, logIn, getCurrentUser };\n","import { createAction } from \"@reduxjs/toolkit\";\n\nconst registerRequest = createAction(\"auth/registerRequest\");\nconst registerSuccess = createAction(\"auth/registerSuccess\");\nconst registerError = createAction(\"auth/registerError\");\n\nconst loginRequest = createAction(\"auth/loginRequest\");\nconst loginSuccess = createAction(\"auth/loginSuccess\");\nconst loginError = createAction(\"auth/loginError\");\n\nconst logoutRequest = createAction(\"auth/logoutRequest\");\nconst logoutSuccess = createAction(\"auth/logoutSuccess\");\nconst logoutError = createAction(\"auth/logoutError\");\n\nconst getCurrentUserRequest = createAction(\"auth/getCurrentUserRequest\");\nconst getCurrentUserSuccess = createAction(\"auth/getCurrentUserSuccess\");\nconst getCurrentUserError = createAction(\"auth/getCurrentUserError\");\n\n// eslint-disable-next-line\nexport default {\n  registerRequest,\n  registerSuccess,\n  registerError,\n  logoutRequest,\n  logoutSuccess,\n  logoutError,\n  loginRequest,\n  loginSuccess,\n  loginError,\n  getCurrentUserRequest,\n  getCurrentUserSuccess,\n  getCurrentUserError,\n};\n"],"sourceRoot":""}